{"version":3,"sources":["webpack:///./src/appModel.js","webpack:///./src/bus.js","webpack:///./src/BBox.js","webpack:///./src/settings.js","webpack:///./src/lib/RouteHandleViewModel.js","webpack:///./src/components/About.vue?14b1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/lib/loadGraph.js","webpack:///./src/SVGContainer.js","webpack:///./src/App.vue?0550","webpack:///src/components/About.vue","webpack:///./src/components/About.vue","webpack:///./src/components/RoutePoint.vue?221a","webpack:///src/components/RoutePoint.vue","webpack:///./src/lib/Progress.js","webpack:///./src/components/RoutePoint.vue","webpack:///./src/lib/request.js","webpack:///src/App.vue"],"names":["createTree","require","npath","loadGraph","Progress","RouteHandleViewModel","getSettings","queryState","bus","qs","graph","onChange","fromId","routeStart","pointId","toId","routeEnd","setCurrentSearchFromQueryState","updateRoute","graphBBox","hetTestTree","pathFinder","pathFindersLookup","pendingQueryStringUpdate","findNearestPoint","stats","visible","lastSearchTook","pathLength","graphNodeCount","graphLinksCount","settings","api","loadPositions","updateSearchAlgorithm","setCurrentPathFinder","set","pathFinderSettings","selected","updateSelectedGraph","graphSettings","clearRoute","getGraph","getGraphBBox","progress","pathInfo","svgPath","noPath","handleSceneClick","e","setRoutePointFormEvent","getRouteHandleUnderCursor","scene","scale","getTransform","getPixelRatio","intersects","sceneX","sceneY","clearTimeout","setTimeout","get","updateQueryString","points","start","window","performance","now","path","find","map","l","data","findPath","end","length","pt","index","p","x","y","join","Math","round","totalLength","i","dataDistance","numberWithCommas","getPathLength","clear","routePointViewModel","point","Error","setFrom","graphName","reset","then","setApplicationModelVariables","catch","setError","loaded","loadedPoints","initAsync","total","message","completed","done","treeReady","a-greedy-star","aGreedy","distance","heuristic","nba","astar-uni","aStar","dijkstra","getNodesCount","getLinksCount","fire","pathFinderName","from","getNode","to","toString","replace","maxDistanceToExplore","arguments","undefined","pointsAround","idx","sort","a","b","pointDistance","src","dx","dy","sqrt","module","exports","eventify","BBox","_classCallCheck3","default","this","minX","Number","POSITIVE_INFINITY","minY","maxX","NEGATIVE_INFINITY","maxY","offset","xIn","yIn","rect","addPoint","left","top","right","bottom","otherBBox","graphs","value","name","getAvailableGraphs","algorithms","getAvailablePathfinders","pointChangedCallback","beingDragged","r","pointChanged","touchId","self","onMouseMove","stopPropagation","preventDefault","clientX","clientY","touches","mainTouch","identifier","s","getSceneCoordinate","id","onMouseUp","document","removeEventListener","addEventListener","capture","passive","graphNode","esExports","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","$event","close","apply","_v","attrs","href","_m","staticRenderFns","target","__webpack_exports__","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue___default","n","__WEBPACK_IMPORT_KEY__","key","d","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_369b209f_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","__vue_styles__","ssrContext","Component","normalizeComponent","Vue","config","productionTip","el","template","components","App","request","endpoint","createGraph","asyncFor","fileName","links","responseType","reportProgress","buffer","Int32Array","console","log","time","_promise2","resolve","addPointToGraph","pointsReady","timeEnd","step","initNodes","setLinks","nodeId","floor","addNode","addLinkToGraph","linksReady","fromShifted","addLink","percent","SVGContainer","groupElement","drawCallback","_this","_possibleConstructorReturn3","__proto__","_getPrototypeOf2","call","g","noop","transform","worldTransform","world","ours","pixelRatio","setAttributeNS","Element","ref","webGLEnabled","_e","stroke-width","stroke","fill","symbol","fontSize","errorMessage","_s","errorDetails","getHelpText","helpVisible","viewBox","detailsVisible","strokeWidth","textY","text-anchor","font-size","pathText","directives","rawName","expression","change","$$selectedVal","Array","prototype","filter","options","o","_value","$set","multiple","_l","algorithm","domProps","title","graphNameTitle","updateGraph","aboutVisible","frameborder","allowfullscreen","mounted","closeHandler","keyCode","beforeDestroy","methods","$emit","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_About_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_About_vue___default","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_691801df_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_About_vue__","screenScale","props","String","type","computed","details","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_RoutePoint_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_RoutePoint_vue___default","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5504d70c_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_RoutePoint_vue__","url","reject","req","XMLHttpRequest","lengthComputable","status","response","JSON","parse","open","send","wgl","RoutePoint","_RoutePoint2","About","_About2","isWebGLEnabled","$refs","canvas","_appModel2","createScene","off","ensurePreviousSceneDestroyed","dispose","unsubscribeMoveEvents","svgConntainer","_SVGContainer2","svg","querySelector","updateSVGElements","bind","appendChild","setClearColor","initialSceneSize","width","setViewBox","linksCount","lines","WireCollection","color","forEachLink","link","add","onMouseMoveOverScene","onSceneClick","boundMouseDown","handleMouseDown","body","foundPath","changedTouches","handleUnderCursor","startDragging","Date","handle","prevHandle","style","cursor"],"mappings":"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","file":"static/js/app.9ab50f5428ec54e002ca.js","sourcesContent":["/**\n * This is the main application model.\n */\nconst createTree = require('yaqt');\nconst npath = require('ngraph.path'); // the pathfinders\n\nconst loadGraph = require('./lib/loadGraph'); // loads graph asynchronously\nconst Progress = require('./lib/Progress'); // notifies UI about loading progress\n\n// This is a state for two dots A and B on the UI\nconst RouteHandleViewModel = require('./lib/RouteHandleViewModel');\n\n// We use a few options in the UI (available path finders, available graphs)\nconst getSettings = require('./settings.js')\n\n// Some state is shared in the query string (start/end of the route)\nconst queryState = require('query-state');\n\n// And this is how the state communicates asynchronously with App.vue\nconst bus = require('./bus');\n\n// Now that we are done with imports, lets initialize the state.\n\n// First of all, read what we currently have in the query string.\nconst qs = queryState({\n  graph: 'amsterdam-roads'\n});\n\nqs.onChange(updateStateFromQueryString);\n\nlet graph;      // current graph\nlet graphBBox;  // current bounding box for a graph\nlet hetTestTree;       // this tree helps us find graph node under cursor\nlet pathFinder;        // currently selected pathfinder\nlet pathFindersLookup; // initialized after we load graph\n\nlet pendingQueryStringUpdate = 0; // Used to throttle query string updates.\n\nlet routeStart = new RouteHandleViewModel(updateRoute, findNearestPoint);\nlet routeEnd = new RouteHandleViewModel(updateRoute, findNearestPoint);\n\nlet stats = {\n  visible: false,\n  lastSearchTook: 0,\n  pathLength: 0,\n  graphNodeCount: '',\n  graphLinksCount: ''\n};\n\nlet settings = getSettings(qs);\n\nconst api = {\n  loadPositions,\n\n  updateSearchAlgorithm,\n  updateSelectedGraph,\n\n  getGraph,\n  getGraphBBox,\n\n  progress: new Progress(),\n  stats,\n\n  routeStart, \n  routeEnd,\n  pathInfo: {\n    svgPath: '',\n    noPath: false\n  },\n\n  handleSceneClick,\n  getRouteHandleUnderCursor,\n  clearRoute,\n\n  pathFinderSettings: settings.pathFinderSettings,\n  graphSettings: settings.graphSettings\n}\n\nmodule.exports = api;\n\n// The app model is ready at this point.\n\nfunction updateStateFromQueryString(queryState) {\n  let searchChanged = (queryState.fromId !== routeStart.pointId) || \n                      (queryState.toId !== routeEnd.pointId);\n\n  if (searchChanged) {\n    setCurrentSearchFromQueryState();\n    updateRoute();\n  }\n}\n\n\n/**\n * This method sets a new pathfinder, according to currently selected\n * drop down option from `pathFinderSettings`\n */\nfunction updateSearchAlgorithm() {\n  setCurrentPathFinder();\n  qs.set('finder', settings.pathFinderSettings.selected);\n  updateRoute();\n}\n\nfunction getRouteHandleUnderCursor(e, scene) {\n  let transform = scene.getTransform();\n  let scale = transform.scale/scene.getPixelRatio();\n\n  if (routeStart.intersects(e.sceneX, e.sceneY, scale)) {\n    return routeStart;\n  }\n  if (routeEnd.intersects(e.sceneX, e.sceneY, scale)) {\n    return routeEnd;\n  }\n}\n\nfunction getGraphBBox() {\n  return graphBBox;\n}\n\nfunction updateRoute() {\n  if (!(routeStart.visible && routeEnd.visible)) {\n    api.pathInfo.svgPath = '';\n    return;\n  } \n\n  let fromId = routeStart.pointId;\n  let toId = routeEnd.pointId;\n  updateQueryString();\n\n  let start = window.performance.now();\n  let path = findPath(fromId, toId);\n  let end = window.performance.now() - start;\n\n  api.pathInfo.noPath = path.length === 0;\n  api.pathInfo.svgPath = getSvgPath(path);\n\n  stats.lastSearchTook = (Math.round(end * 100)/100) + 'ms';\n  stats.pathLength = getPathLength(path);\n  stats.visible = true;\n}\n\nfunction updateQueryString() {\n  if (pendingQueryStringUpdate) {\n    // iOS doesn't like when we update query string too often.\n    // need to throttle\n    clearTimeout(pendingQueryStringUpdate);\n    pendingQueryStringUpdate = 0;\n  } \n\n  pendingQueryStringUpdate = setTimeout(() => {\n    pendingQueryStringUpdate = 0;\n    if(!(routeStart.visible && routeEnd.visible)) return;\n\n    let fromId = routeStart.pointId;\n    let toId = routeEnd.pointId;\n    if (qs.get('fromId') != fromId) {\n      qs.set('fromId', fromId)\n    }\n    if (qs.get('toId') !== toId) {\n      qs.set('toId', toId);\n    }\n  }, 400);\n}\n\nfunction getPathLength(path) {\n  let totalLength = 0;\n  for (let i = 1; i < path.length; ++i) {\n    totalLength += dataDistance(path[i - 1], path[i]);\n  }\n  return numberWithCommas(Math.round(totalLength));\n}\n\nfunction clearRoute() {\n  routeStart.clear();\n  routeEnd.clear();\n  qs.set({\n    fromId: -1,\n    toId: -1\n  });\n}\n\nfunction handleSceneClick(e) {\n  if (!routeStart.visible) {\n    setRoutePointFormEvent(e, routeStart);\n  } else if (!routeEnd.visible) {\n    setRoutePointFormEvent(e, routeEnd);\n  }\n}\n\nfunction setRoutePointFormEvent(e, routePointViewModel) {\n  if (!hetTestTree) return; // we are not initialized yet.\n\n  let point = findNearestPoint(e.sceneX, e.sceneY)\n  if (!point) throw new Error('Point should be defined at this moment');\n\n  routePointViewModel.setFrom(point);\n}\n\nfunction loadPositions() {\n  let graphName = qs.get('graph');\n  hetTestTree = null;\n  graph = null;\n  stats.visible = false;\n  api.progress.reset();\n\n  loadGraph(graphName, api.progress).then(setApplicationModelVariables)\n  .catch((e) => {\n    api.progress.setError('Could not load the graph', e);\n  });\n}\n\nfunction setApplicationModelVariables(loaded) {\n  graph = loaded.graph;\n  graphBBox = loaded.graphBBox;\n  pathFinder = null;\n\n  initHitTestTree(loaded.points);\n  initPathfinders();\n\n  stats.graphNodeCount = numberWithCommas(graph.getNodesCount());\n  stats.graphLinksCount = numberWithCommas(graph.getLinksCount());\n  bus.fire('graph-loaded')\n  setTimeout(() => {\n    // in case if we have path in the query string\n    updateRoute();\n  }, 0);\n}\n\nfunction initHitTestTree(loadedPoints) {\n  hetTestTree = createTree();\n  hetTestTree.initAsync(loadedPoints, {\n    progress(i, total) {\n      if (i % 500 !== 0) return;\n\n      api.progress.message = 'Initializing tree for point & click'\n      api.progress.completed = Math.round(100 * i/total) + '%';\n    },\n    done() {\n      api.progress.treeReady = true;\n    }\n  });\n}\n\n\n\nfunction initPathfinders() {\n  pathFindersLookup = {\n    'a-greedy-star': npath.aGreedy(graph, {\n      distance: distance,\n      heuristic: distance\n    }),\n    'nba': npath.nba(graph, {\n      distance: distance,\n      heuristic: distance\n    }),\n    'astar-uni': npath.aStar(graph, {\n      distance: distance,\n      heuristic: distance\n    }),\n    'dijkstra': npath.aStar(graph, {\n      distance: distance\n    }),\n  }\n\n  setCurrentPathFinder()\n  setCurrentSearchFromQueryState();\n}\n\nfunction setCurrentPathFinder() {\n  let pathFinderName = settings.pathFinderSettings.selected;\n  pathFinder = pathFindersLookup[pathFinderName];\n  if (!pathFinder) {\n    throw new Error('Cannot find pathfinder ' + pathFinderName);\n  }\n}\n\nfunction setCurrentSearchFromQueryState() {\n  if (!graph) return;\n\n  let fromId = qs.get('fromId');\n  let toId = qs.get('toId');\n  let from = graph.getNode(fromId)\n  let to = graph.getNode(toId)\n  if (from) routeStart.setFrom(from)\n  if (to) routeEnd.setFrom(to)\n}\n\nfunction updateSelectedGraph() {\n  qs.set({\n    graph: settings.graphSettings.selected,\n    fromId: -1,\n    toId: -1\n  });\n\n  loadPositions();\n  clearRoute();\n}\n\nfunction numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nfunction findPath(fromId, toId) {\n  return pathFinder.find(fromId, toId).map(l => l.data);\n}\n\nfunction getSvgPath(points) {\n  if (points.length < 1) return '';\n\n  return points.map((pt, index) => {\n    let prefix = (index === 0) ? 'M' : ''\n    return prefix + toPoint(pt);\n  }).join(' ');\n}\n\nfunction toPoint(p) { return p.x + ',' + p.y }\n\nfunction getGraph() {\n  return graph;\n}\n\nfunction findNearestPoint(x, y, maxDistanceToExplore = 2000) {\n  if (!hetTestTree) return;\n\n  let points = hetTestTree.pointsAround(x, y, maxDistanceToExplore).map(idx => graph.getNode(idx/2))\n  .sort((a, b) => {\n    let da = pointDistance(a.data, x, y);\n    let db = pointDistance(b.data, x, y)\n    return da - db;\n  });\n\n  if (points.length > 0) {\n    return points[0];\n  } else {\n    // keep trying.\n    return findNearestPoint(x, y, maxDistanceToExplore * 2);\n  }\n}\n\nfunction pointDistance(src, x, y) {\n  let dx = src.x - x;\n  let dy = src.y - y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\nfunction distance(a, b) {\n  return dataDistance(a.data, b.data);\n}\n\nfunction dataDistance(a, b) {\n  let dx = a.x - b.x;\n  let dy = a.y - b.y;\n\n  return Math.sqrt(dx * dx + dy * dy)\n}\n\n\n// WEBPACK FOOTER //\n// ./src/appModel.js","var eventify = require('ngraph.events');\nvar bus = eventify({});\n\nmodule.exports = bus;\n\n\n// WEBPACK FOOTER //\n// ./src/bus.js","class BBox {\n  constructor() {\n    this.minX = Number.POSITIVE_INFINITY;\n    this.minY = Number.POSITIVE_INFINITY;\n    this.maxX = Number.NEGATIVE_INFINITY;\n    this.maxY = Number.NEGATIVE_INFINITY;\n  }\n\n  growBy(offset) {\n    this.minX -= offset;\n    this.minY -= offset;\n    this.maxX += offset;\n    this.maxY += offset;\n  }\n\n  get left() {\n    return this.minX;\n  }\n\n  get top() {\n    return this.minY;\n  }\n\n  get right() {\n    return this.maxX;\n  }\n\n  get bottom() {\n    return this.maxY;\n  }\n\n  get width() {\n    return this.maxX - this.minX;\n  }\n\n  get height() {\n    return this.maxY - this.minY;\n  }\n\n  get cx() {\n    return (this.minX + this.maxX)/2;\n  }\n\n  get cy() {\n    return (this.minY + this.maxY)/2;\n  }\n\n  addPoint(xIn, yIn) {\n    if (xIn === undefined) throw new Error('Point is not defined');\n    let x = xIn;\n    let y = yIn;\n    if (y === undefined) {\n      // xIn is a point object\n      x = xIn.x;\n      y = xIn.y;\n    }\n\n    if (x < this.minX) this.minX = x;\n    if (x > this.maxX) this.maxX = x;\n    if (y < this.minY) this.minY = y;\n    if (y > this.maxY) this.maxY = y;\n  }\n\n  addRect(rect) {\n    if (!rect) throw new Error('rect is not defined');\n    this.addPoint(rect.left, rect.top);\n    this.addPoint(rect.right, rect.top);\n    this.addPoint(rect.left, rect.bottom);\n    this.addPoint(rect.right, rect.bottom);\n  }\n\n  merge(otherBBox) {\n    if (otherBBox.minX < this.minX) this.minX = otherBBox.minX;\n    if (otherBBox.minY < this.minY) this.minY = otherBBox.minY;\n    if (otherBBox.maxX > this.maxX) this.maxX = otherBBox.maxX;\n    if (otherBBox.maxY > this.maxY) this.maxY = otherBBox.maxY;\n  }\n}\n\nmodule.exports = BBox;\n\n\n\n// WEBPACK FOOTER //\n// ./src/BBox.js","module.exports = getSettings\n\nfunction getSettings(qs) {\n  const graphSettings = getAvailableGraphs(qs); \n  const pathFinderSettings = getAvailablePathfinders(qs); \n\n  return {\n    graphSettings,\n    pathFinderSettings\n  };\n}\n\n\nfunction getAvailableGraphs(qs) {\n  let graphs = [{\n    value: 'amsterdam-roads',\n    name: 'Amsterdam (76K edges, 1.1 MB)'\n  }, {\n    value: 'seattle-roads',\n    name: 'Seattle (173K edges, 2.4 MB)'\n  }, {\n    value: 'rome-roads',\n    name: 'Rome (258K edges, 3.8 MB)'\n  }, {\n    value: 'delhi-roads',\n    name: 'Delhi (280K edges, 3.9 MB)'\n  }, {\n    value: 'moscow-roads',\n    name: 'Moscow (451K edges, 6.5 MB)'\n  }, {\n    value: 'USA-road-d.NY',\n    name: 'New York (730K edges, 7.6 MB)'\n  },\n  // Commenting this out, as on mobile devices it may crash the browser.\n  //  {\n  //   value: 'tokyo-roads',\n  //   name: 'Tokyo (879K edges, 12.3 MB)'\n  // }\n];\n\n  return {\n    selected: qs.get('graph'),\n    graphs\n  };\n}\n\nfunction getAvailablePathfinders(qs) {\n  return {\n    selected: qs.get('finder') || 'nba',\n    algorithms: [{\n      value: 'a-greedy-star',\n      name: 'Greedy A* (suboptimal)'\n    }, {\n      value: 'nba',\n      name: 'NBA*'\n    }, {\n      value: 'astar-uni',\n      name: 'Unidirectional A*'\n    }, {\n      value: 'dijkstra',\n      name: 'Dijkstra'\n    }]\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/settings.js","class RouteHandleViewModel {\n  constructor(pointChangedCallback, findNearestPoint) {\n    this.visible = false;\n    this.beingDragged = false;\n\n    this.pointId = -1;\n    this.x = 0;\n    this.y = 0;\n    this.r = 18;\n\n    this.pointChanged = pointChangedCallback;\n    this.findNearestPoint = findNearestPoint;\n  }\n\n  startDragging(scene, touchId = undefined) {\n    let self = this;\n    this.beingDragged = true;\n\n    document.addEventListener('mousemove', onMouseMove, true)\n    document.addEventListener('touchmove', onMouseMove, {\n      capture: true,\n      passive: false\n    })\n    document.addEventListener('touchend', onMouseUp, true)\n    document.addEventListener('touchcancel', onMouseUp, true)\n    document.addEventListener('mouseup', onMouseUp, true)\n\n    function onMouseMove(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      let clientX, clientY;\n      if (e.touches) {\n        let mainTouch;\n        for(var i = 0; i < e.touches.length; ++i) {\n          if (e.touches[i].identifier === touchId) {\n            mainTouch = e.touches[i];\n            break;\n          }\n        }\n\n        if (!mainTouch) return; // not us.\n\n        clientX = mainTouch.clientX;\n        clientY = mainTouch.clientY;\n      } else {\n        clientX = e.clientX;\n        clientY = e.clientY;\n      }\n\n      var s = scene.getSceneCoordinate(clientX, clientY);\n      self.x = s.x;\n      self.y = s.y;\n      let point = self.findNearestPoint(s.x, s.y);\n      self.pointId = point.id;\n      self.pointChanged(self)\n    }\n\n    function onMouseUp(e) {\n      if (e.touches && e.touches.length > 0) {\n        for(let i = 0; i < e.touches.length; ++i) {\n          let touch = e.touches[i];\n          if (touch.identifier === touchId) {\n            // we are in the list of active touches, so it wasn't us\n            return;\n          }\n        }\n      }\n\n      // if we got here, it means the user let go current handle\n      unsubscribe();\n    }\n\n    function unsubscribe() {\n      self.beingDragged = false;\n      document.removeEventListener('mousemove', onMouseMove, true);\n      document.removeEventListener('mouseup', onMouseUp, true);\n      document.removeEventListener('touchmove', onMouseMove, true)\n      document.removeEventListener('touchend', onMouseUp, true)\n      document.removeEventListener('touchcancel', onMouseUp, true)\n    }\n  }\n\n  setFrom(graphNode) {\n    this.visible = true;\n    this.pointId = graphNode.id;\n    this.x = graphNode.data.x;\n    this.y = graphNode.data.y;\n\n    this.pointChanged(this);\n  }\n  clear() {\n    this.visible = false;\n    this.pointId = -1;\n    this.x = 0;\n    this.y = 0;\n    this.pointChanged(this);\n  }\n\n  intersects(x, y, scale) {\n    if (!this.visible || this.beingDragged) return false;\n\n    let r = this.r / scale;\n    let dx = x - this.x;\n    let dy = y - this.y;\n    return (dx * dx + dy * dy) <= r * r;\n  }\n}\n\nmodule.exports = RouteHandleViewModel;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/RouteHandleViewModel.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('div',{staticClass:\"background absolute\",on:{\"click\":function($event){$event.preventDefault();return _vm.close.apply(null, arguments)}}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h3',[_vm._v(\"ngraph.path \"),_c('a',{staticClass:\"close bold\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.close.apply(null, arguments)}}},[_vm._v(\"close\")])]),_vm._v(\" \"),_vm._m(0),_c('p',[_vm._v(\"\\n      Don't use this website for actual navigation :).\\n    \")]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_vm._m(4),_vm._v(\" \"),_c('a',{staticClass:\"large-close bold\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.close.apply(null, arguments)}}},[_vm._v(\"\\n      close\\n    \")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"\\n      This website is a demo for the \"),_c('a',{staticClass:\"highlighted\",attrs:{\"href\":\"https://github.com/anvaka/ngraph.path\"}},[_vm._v(\"ngraph.path\")]),_vm._v(\"\\n      library. The library implements pathfinding algorithms for generic graphs (not limited to grids).\\n    \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"My goal was to build a very fast library, that could help many developers\\n      find their paths. In my tests, the library showed great performance with median\\n      path finding speed \"),_c('span',{staticClass:\"bold\"},[_vm._v(\"34ms\")]),_vm._v(\" on \"),_c('span',{staticClass:\"bold\"},[_vm._v(\"733,844\")]),_vm._v(\" edges graph.\\n    \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"I built the roads graph for this demo using amazing \"),_c('a',{staticClass:\"highlighted\",attrs:{\"href\":\"http://www.openstreetmap.org/\",\"target\":\"_blank\"}},[_vm._v(\"OpenStreetMap\")]),_vm._v(\".\\n    \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{staticClass:\"highlighted\",attrs:{\"href\":\"https://github.com/anvaka/ngraph.path\"}},[_vm._v(\"Learn more \")]),_vm._v(\" about this project on GitHub\\n      \")]),_c('li',[_vm._v(\"\\n      Stay tuned for updates on \"),_c('a',{staticClass:\"highlighted\",attrs:{\"href\":\"https://twitter.com/anvaka\"}},[_vm._v(\"Twitter.\")])]),_c('li',[_c('a',{staticClass:\"highlighted\",attrs:{\"href\":\"https://www.youtube.com/watch?v=hGeZuIEV6KU\"}},[_vm._v(\" Watch a video\")]),_vm._v(\" demo.\\n      \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"With passion,\"),_c('br'),_vm._v(\" Anvaka\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-691801df\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/About.vue\n// module id = LwKS\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-369b209f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-369b209f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","const request = require('./request');\nconst endpoint = 'static/'\nconst createGraph = require('ngraph.graph');\nconst BBox = require('../BBox');\n\nconst asyncFor = require('rafor');\n\n\nmodule.exports = loadPositions;\n\nfunction loadPositions(fileName, progress) {\n  let graph = createGraph();\n  let points;\n  let links;\n  let graphBBox = new BBox();\n\n  // I used this smaller graph for testing\n  // return new Promise((resolve) => {\n  //   graph.addNode(1, { x: -100, y: 0 });\n  //   graph.addNode(2, { x: 100, y: 0 });\n  //   graph.addLink(1, 2);\n  //   points = [-100, 0, 100, 0];\n  //   links = [1, 2]\n  //   graphBBox.addPoint(-100, 0)\n  //   graphBBox.addPoint(100, 0)\n\n  //   progress.pointsReady = true;\n  //   progress.linksReady = true;\n  //   resolve({graph, points, links, graphBBox});\n  // })\n  return request(endpoint + `/${fileName}.co.bin`, {\n    responseType: 'arraybuffer',\n    progress: reportProgress('Loading intersection coordinates')\n  })\n    .then(setPositions)\n    .then(loadLinks)\n    .then(() => {\n      return {\n        graph, points, links, graphBBox\n      }\n    });\n\n  function setPositions(buffer) {\n    points = new Int32Array(buffer);\n    console.log('Downloaded nodes: ' + points.length/2);\n\n    return initNodes(points);\n  }\n\n  function initNodes(points) {\n    console.time('add nodes to graph');\n    progress.message = 'Adding nodes to graph'\n\n    return new Promise((resolve) => {\n      asyncFor(points, addPointToGraph, () => {\n        progress.pointsReady = true;\n        console.timeEnd('add nodes to graph');\n        resolve();\n      }, { step: 2 });\n\n      progress.pointsReady = true;\n    });\n  }\n\n  function addPointToGraph(x, i, points) {\n    let nodeId = Math.floor(i / 2);\n    let y = points[i + 1];\n    graph.addNode(nodeId, { x, y })\n    graphBBox.addPoint(x, y);\n\n    if (i % 500 === 0) {\n      progress.completed = Math.round(100 * i/points.length) + '%';\n    }\n  }\n\n\n  function loadLinks() {\n    return request(endpoint + `/${fileName}.gr.bin`, {\n      responseType: 'arraybuffer',\n      progress: reportProgress('Loading roads graph')\n    }).then(setLinks)\n  }\n\n  function setLinks(buffer) {\n    links = new Int32Array(buffer);\n\n    progress.message = 'Adding edges to graph'\n    console.time('add edges to graph');\n    return new Promise((resolve) => {\n      asyncFor(links, addLinkToGraph, () => {\n        console.timeEnd('add edges to graph');\n        progress.linksReady = true;\n        console.log(graph.getLinksCount() + ' edges; ' + graph.getNodesCount() + ' nodes.')\n        resolve();\n      }, { step: 2 });\n    });\n  }\n\n  function addLinkToGraph(fromShifted, i, links) {\n    let fromId = fromShifted - 1;\n    let toId = links[i + 1] - 1;\n\n    graph.addLink(fromId, toId);\n\n    if (i % 500 === 0) {\n      progress.completed = Math.round(100 * i/links.length) + '%';\n    }\n  }\n\n\n  function reportProgress(name) {\n    return function(e) {\n      progress.message = name;\n      progress.completed = Math.round(e.percent * 100) + '%';\n    };\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/loadGraph.js","let wgl = require('w-gl');\n\n/**\n * Applies current transformation matrix to a given SVG group\n * element.\n */\nclass SVGContainer extends wgl.Element {\n\n  /**\n   * @param {SVGGElement} groupElement where transformation should be applied\n   * @param {Function} drawCallback a function that is called after each\n   * `draw()`\n   */\n  constructor(groupElement, drawCallback) {\n    super();\n    this.g = groupElement;\n    this.dx = 0;\n    this.dy = 0;\n    this.scale = 0;\n    this.drawCallback = drawCallback || noop;\n  }\n\n  draw() {\n    let transform = this.worldTransform;\n    if(transformsAreSame(this.worldTransform, this)) {\n      // Avoid DOM updates if possible.\n      return;\n    }\n    let pixelRatio = this.scene.getPixelRatio();\n\n    let scale = transform.scale/pixelRatio;\n    let dx = transform.dx/pixelRatio;\n    let dy = transform.dy/pixelRatio;\n\n    this.g.setAttributeNS(null, 'transform', `matrix(${scale}, 0, 0, ${scale}, ${dx}, ${dy})`);\n    this.scale = transform.scale;\n    this.dx = transform.dx;\n    this.dy = transform.dy;\n\n    this.drawCallback(this);\n  }\n}\n\nfunction transformsAreSame(world, ours) {\n  return world.scale == ours.scale &&\n         world.dx === ours.dx &&\n         world.dy === ours.dy;\n}\n\nmodule.exports = SVGContainer;\n\nfunction noop() {}\n\n\n// WEBPACK FOOTER //\n// ./src/SVGContainer.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('canvas',{ref:\"canvas\",staticClass:\"absolute\"}),_vm._v(\" \"),(!_vm.webGLEnabled)?_c('div',[_vm._m(0)]):_vm._e(),_vm._v(\" \"),(_vm.webGLEnabled)?_c('div',[_c('svg',{ref:\"svg\",staticClass:\"svg-overlay absolute\"},[_c('g',{staticClass:\"scene\"},[_c('path',{ref:\"foundPath\",attrs:{\"d\":_vm.pathInfo.svgPath,\"stroke-width\":\"6x\",\"stroke\":\"red\",\"fill\":\"transparent\"}}),_vm._v(\" \"),(_vm.routeStart.visible)?_c('route-point',{attrs:{\"point\":_vm.routeStart,\"scale\":_vm.scale,\"r\":_vm.routeStart.r,\"symbol\":\"A\",\"fontSize\":28}}):_vm._e(),_vm._v(\" \"),(_vm.routeEnd.visible)?_c('route-point',{attrs:{\"point\":_vm.routeEnd,\"scale\":_vm.scale,\"r\":_vm.routeEnd.r,\"symbol\":\"B\",\"fontSize\":28}}):_vm._e()],1)]),_vm._v(\" \"),(_vm.progress.visible)?_c('div',{staticClass:\"progress center absolute\"},[(!_vm.progress.errorMessage)?_c('div',[_vm._v(\"\\n        \"+_vm._s(_vm.progress.message)+\" \"+_vm._s(_vm.progress.completed)+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.progress.errorMessage)?_c('div',{staticClass:\"error\"},[_c('div',[_vm._v(_vm._s(_vm.progress.errorMessage))]),_vm._v(\" \"),_c('div',{staticClass:\"error-details\"},[_vm._v(_vm._s(_vm.progress.errorDetails))])]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.loaded && !_vm.progress.visible)?_c('div',{staticClass:\"controls absolute\"},[(_vm.helpVisible)?_c('div',{staticClass:\"help\"},[_vm._v(\"\\n        \"+_vm._s(_vm.getHelpText())+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(!_vm.helpVisible)?_c('div',{staticClass:\"route-info-container\"},[_c('svg',{staticClass:\"route-info\",attrs:{\"viewBox\":\"0 0 400 40\"},on:{\"click\":function($event){$event.preventDefault();_vm.detailsVisible = !_vm.detailsVisible}}},[_c('g',[_c('path',{attrs:{\"d\":\"M20,20 L80,20 M290,20 L350,20\",\"stroke-width\":\"4\",\"stroke\":\"red\",\"fill\":\"transparent\"}}),_vm._v(\" \"),_c('route-point',{attrs:{\"point\":{x: 20, y: 20},\"scale\":1,\"r\":12,\"symbol\":\"A\",\"fontSize\":12,\"strokeWidth\":1,\"textY\":4}}),_vm._v(\" \"),_c('route-point',{attrs:{\"point\":{x: 350, y: 20},\"scale\":1,\"r\":12,\"symbol\":\"B\",\"fontSize\":12,\"strokeWidth\":1,\"textY\":4}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"185.5\",\"y\":\"25\",\"fill\":\"white\",\"text-anchor\":\"middle\",\"font-size\":\"18px\"}},[_vm._v(_vm._s(_vm.pathText))])],1),_vm._v(\" \"),_c('g',[(!_vm.detailsVisible)?_c('path',{attrs:{\"d\":\"M372,15 L388,15 380.5,28z\",\"stroke-width\":\"0\",\"stroke\":\"white\",\"fill\":\"hsl(215, 34%, 64%)\"}}):_vm._e(),_vm._v(\" \"),(_vm.detailsVisible)?_c('path',{attrs:{\"d\":\"M372,28 L388,28 380.5,15z\",\"stroke-width\":\"0\",\"stroke\":\"white\",\"fill\":\"hsl(215, 34%, 64%)\"}}):_vm._e()])]),_vm._v(\" \"),_c('a',{staticClass:\"reset\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.clearRoute.apply(null, arguments)}}},[_vm._v(\"clear\")])]):_vm._e(),_vm._v(\" \"),(_vm.detailsVisible && !_vm.helpVisible)?_c('div',{staticClass:\"details\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"Path length:\")]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_vm._v(_vm._s(_vm.stats.pathLength))])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"Path finder:\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pathFinder.selected),expression:\"pathFinder.selected\"}],staticClass:\"col\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.pathFinder, \"selected\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.updateSearchAlgorithm]}},_vm._l((_vm.pathFinder.algorithms),function(algorithm){return _c('option',{domProps:{\"value\":algorithm.value}},[_vm._v(_vm._s(algorithm.name))])}),0)])]):_vm._e()]):_vm._e(),_vm._v(\" \"),(!_vm.progress.visible)?_c('div',{staticClass:\"graph-name\",attrs:{\"title\":_vm.graphNameTitle}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.graphSettings.selected),expression:\"graphSettings.selected\"}],staticClass:\"col\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.graphSettings, \"selected\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.updateGraph]}},_vm._l((_vm.graphSettings.graphs),function(graph){return _c('option',{domProps:{\"value\":graph.value}},[_vm._v(_vm._s(graph.name))])}),0)]):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"about-line\"},[_c('a',{staticClass:\"about-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.aboutVisible = true}}},[_vm._v(\"about...\")]),_vm._v(\" \"),_c('a',{staticClass:\"bold\",attrs:{\"href\":\"http://github.com/anvaka/ngraph.path\"}},[_vm._v(\"source code\")])]),_vm._v(\" \"),(!_vm.progress.visible && _vm.graphSettings.selected !== \"USA-road-d.NY\")?_c('div',{staticClass:\"osm-note\"},[_vm._v(\"\\n    Graph was extracted from \"),_c('a',{attrs:{\"href\":\"https://www.openstreetmap.org\",\"target\":\"_blank\"}},[_vm._v(\"www.openstreetmap.org\")]),_vm._v(\".\\n    It is made available under \"),_c('a',{attrs:{\"href\":\"https://opendatacommons.org/licenses/odbl/summary/\",\"target\":\"_blank\"}},[_vm._v(\"ODbL\")])]):_vm._e(),_vm._v(\" \"),(_vm.aboutVisible)?_c('about',{on:{\"close\":function($event){_vm.aboutVisible = false}}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"absolute no-webgl\"},[_c('h4',[_vm._v(\"WebGL is not enabled :(\")]),_vm._v(\" \"),_c('div',[_vm._v(\"While \"),_c('a',{staticClass:\"highlighted\",attrs:{\"href\":\"https://github.com/anvaka/ngraph.path\"}},[_vm._v(\"ngraph.path\")]),_vm._v(\" does not require any webgl, this demo needs it.\")]),_vm._v(\" \"),_c('iframe',{staticClass:\"video-demo\",attrs:{\"src\":\"https://www.youtube.com/embed/hGeZuIEV6KU\",\"frameborder\":\"0\",\"allowfullscreen\":\"\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-369b209f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = UfUn\n// module chunks = 1","<template>\n  <div class='about'>\n    <div class='background absolute' @click.prevent='close'></div>\n    <div class='content'>\n      <h3>ngraph.path <a class='close bold' href='#' @click.prevent='close'>close</a></h3>\n      <p>\n        This website is a demo for the <a href='https://github.com/anvaka/ngraph.path' class='highlighted'>ngraph.path</a>\n        library. The library implements pathfinding algorithms for generic graphs (not limited to grids).\n      </p><p>\n        Don't use this website for actual navigation :).\n      </p>\n\n      <p>My goal was to build a very fast library, that could help many developers\n        find their paths. In my tests, the library showed great performance with median\n        path finding speed <span class='bold'>34ms</span> on <span class='bold'>733,844</span> edges graph.\n      </p>\n      <p>I built the roads graph for this demo using amazing <a href='http://www.openstreetmap.org/' target='_blank' class='highlighted'>OpenStreetMap</a>.\n      </p>\n      <ul>\n        <li>\n          <a href='https://github.com/anvaka/ngraph.path' class='highlighted'>Learn more </a> about this project on GitHub\n        </li><li>\n        Stay tuned for updates on <a href='https://twitter.com/anvaka' class='highlighted'>Twitter.</a>\n        </li><li>\n        <a href='https://www.youtube.com/watch?v=hGeZuIEV6KU' class='highlighted'> Watch a video</a> demo.\n        </li>\n      </ul>\n      <p>With passion,<br/> Anvaka</p>\n      <a href='#' @click.prevent='close' class='large-close bold'>\n        close\n      </a>\n    </div>\n  </div>\n</template>\n<script>\n\nexport default {\n  mounted() {\n    this.closeHandler = (e) => {\n      if (e.keyCode === 27) {\n        e.preventDefault();\n        this.close();\n      }\n    }\n    document.addEventListener('keyup', this.closeHandler);\n  },\n  beforeDestroy() {\n    document.removeEventListener('keyup', this.closeHandler);\n  },\n  methods: {\n    close() {\n      this.$emit('close');\n    }\n  }\n}\n</script>\n\n<style lang='stylus'>\n.about {\n  position: absolute;\n  overflow-y: auto;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n\n  .close {\n    position: absolute;\n    right: 15px;\n    font-size: 12px;\n  }\n\n  .large-close {\n    width: 100%;\n    height: 32px;\n    display: block;\n    text-align: center;\n  }\n\n  .content {\n    color: hsla(215, 37%, 55%, 1);\n    position: absolute;\n    background-color: hsla(215, 74%, 18%, 1.0);\n    width: 400px;\n    padding: 14px;\n    border: 1px solid hsla(215, 37%, 55%, 1);\n    h3 {\n      margin: 0;\n      font-weight: normal;\n    }\n  }\n}\n\n.background {\n  position: absolute;\n  background-color: hsla(215, 74%, 18%, 0.8);\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n@media (max-width: 800px) {\n  .about {\n    justify-content: initial;\n  }\n  .about .content {\n    width: 100%;\n    border: none;\n  }\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/About.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-691801df\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./About.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./About.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./About.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-691801df\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./About.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/About.vue\n// module id = c27y\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',{attrs:{\"transform\":_vm.screenScale}},[_c('circle',{attrs:{\"r\":_vm.r,\"fill\":\"red\",\"stroke\":\"white\",\"stroke-width\":_vm.strokeWidth}}),_vm._v(\" \"),_c('text',{staticClass:\"no-pointer\",attrs:{\"font-size\":_vm.fontSize,\"fill\":\"white\",\"text-anchor\":\"middle\",\"y\":_vm.textY}},[_vm._v(_vm._s(_vm.symbol))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5504d70c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/RoutePoint.vue\n// module id = h1eN\n// module chunks = 1","<template>\n  <g :transform='screenScale'>\n    <circle :r='r' fill='red' stroke='white' :stroke-width='strokeWidth' ></circle>\n    <text :font-size='fontSize' fill='white' text-anchor='middle' :y='textY' class='no-pointer'>{{symbol}}</text>\n  </g>\n</template>\n<script>\nexport default {\n  name: 'RoutePoint',\n  props: {\n    point: Object,\n    scale: Number,\n    symbol: String,\n    r: Number,\n    strokeWidth: {\n      type: Number,\n      default: 2\n    },\n    fontSize: {\n      type: Number,\n      default: 28\n    },\n    textY: {\n      type: Number,\n      default: 10\n    }\n  },\n  computed: {\n    screenScale() {\n      let scale = 1/this.scale;\n      let dx = this.point.x;\n      let dy = this.point.y;\n      return `matrix(${scale}, 0, 0, ${scale}, ${dx}, ${dy})`;\n    },\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/RoutePoint.vue","class Progress {\n  constructor() {\n    this.reset();\n  }\n\n  get visible() {\n    return !(this.pointsReady && this.linksReady && this.treeReady);\n  }\n\n  setError(errorMessage, details) {\n    this.errorMessage = errorMessage;\n    this.errorDetails = details;\n  }\n\n  reset() {\n    this.errorMessage = null;\n    this.errorDetails = null;\n    this.message = '';\n    this.completed = '';\n    this.pointsReady = false;\n    this.linksReady = false;\n    this.treeReady = false;\n  }\n}\n\nmodule.exports = Progress;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/Progress.js","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoutePoint.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoutePoint.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5504d70c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./RoutePoint.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RoutePoint.vue\n// module id = qEFR\n// module chunks = 1","module.exports = request;\n\nfunction request(url, options) {\n  if (!options) options = {};\n\n  return new Promise(download);\n\n  function download(resolve, reject) {\n    var req = new XMLHttpRequest();\n\n    if (typeof options.progress === 'function') {\n      req.addEventListener(\"progress\", updateProgress, false);\n    }\n\n    req.addEventListener(\"load\", transferComplete, false);\n    req.addEventListener(\"error\", transferFailed, false);\n    req.addEventListener(\"abort\", transferCanceled, false);\n\n    req.open('GET', url);\n    if (options.responseType) {\n      req.responseType = options.responseType;\n    }\n    req.send(null);\n\n    function updateProgress(e) {\n      if (e.lengthComputable) {\n        options.progress({\n          loaded: e.loaded,\n          total: e.total,\n          percent: e.loaded / e.total\n        });\n      }\n    }\n\n    function transferComplete() {\n      if (req.status !== 200) {\n        reject(`Unexpected status code ${req.status} when calling ${url}`);\n        return;\n      }\n      var response = req.response;\n\n      if (options.responseType === 'json' && typeof response === 'string') {\n        // IE\n        response = JSON.parse(response);\n      }\n\n      resolve(response);\n    }\n\n    function transferFailed() {\n      reject(`Failed to download ${url}`);\n    }\n\n    function transferCanceled() {\n      reject(`Cancelled download of ${url}`);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/request.js","<template>\n  <div id=\"app\">\n    <canvas ref='canvas' class='absolute'></canvas>\n    <div v-if='!webGLEnabled'>\n      <div class='absolute no-webgl'>\n        <h4>WebGL is not enabled :(</h4>\n        <div>While <a href='https://github.com/anvaka/ngraph.path' class='highlighted'>ngraph.path</a> does not require any webgl, this demo needs it.</div>\n        <iframe src=\"https://www.youtube.com/embed/hGeZuIEV6KU\" frameborder=\"0\" allowfullscreen class='video-demo'></iframe>\n      </div>\n    </div>\n    <div v-if='webGLEnabled'>\n      <svg ref='svg' class='svg-overlay absolute'>\n        <g class='scene'>\n          <path ref='foundPath' :d='pathInfo.svgPath' stroke-width='6x' stroke='red' fill=\"transparent\" ></path>\n          <route-point :point='routeStart' :scale='scale' :r='routeStart.r' symbol='A' v-if='routeStart.visible' :fontSize='28'></route-point>\n          <route-point :point='routeEnd' :scale='scale' :r='routeEnd.r' symbol='B' v-if='routeEnd.visible' :fontSize='28'></route-point>\n        </g>\n      </svg>\n      <div class='progress center absolute' v-if='progress.visible'>\n        <div v-if='!progress.errorMessage'>\n          {{progress.message}} {{progress.completed}}\n        </div>     \n        <div v-if='progress.errorMessage' class='error'>\n          <div>{{progress.errorMessage}}</div>\n          <div class='error-details'>{{progress.errorDetails}}</div>\n        </div>\n      </div>\n      <div class='controls absolute' v-if='loaded && !progress.visible'>\n        <div class='help' v-if='helpVisible'>\n          {{getHelpText()}}\n        </div>\n        <div class='route-info-container' v-if='!helpVisible' >\n          <svg class='route-info' viewBox='0 0 400 40'  @click.prevent='detailsVisible = !detailsVisible'>\n            <g>\n              <path d='M20,20 L80,20 M290,20 L350,20' stroke-width='4' stroke='red' fill=\"transparent\" ></path>\n              <route-point :point='{x: 20, y: 20}' :scale='1' :r='12' symbol='A' :fontSize='12' :strokeWidth='1' :textY='4' ></route-point>\n              <route-point :point='{x: 350, y: 20}' :scale='1' :r='12' symbol='B' :fontSize='12' :strokeWidth='1' :textY='4'></route-point>\n              <text x='185.5' y='25' fill='white' text-anchor='middle' font-size='18px'>{{pathText}}</text>\n            </g>\n            <g>\n              <path d='M372,15 L388,15 380.5,28z' stroke-width='0' stroke='white' fill=\"hsl(215, 34%, 64%)\" v-if='!detailsVisible'></path>\n              <path d='M372,28 L388,28 380.5,15z' stroke-width='0' stroke='white' fill=\"hsl(215, 34%, 64%)\" v-if='detailsVisible'></path>\n            </g>\n          </svg>\n          <a href='#' @click.prevent='clearRoute' class='reset'>clear</a>\n        </div>\n        <div v-if='detailsVisible && !helpVisible' class='details'>\n          <div class='row'>\n            <div class='label'>Path length:</div>\n            <div class='col'>{{stats.pathLength}}</div>\n          </div>\n          <div class='row'>\n            <div class='label'>Path finder:</div>\n            <select class='col' v-model='pathFinder.selected' @change='updateSearchAlgorithm'>\n              <option v-for='algorithm in pathFinder.algorithms' :value='algorithm.value'>{{algorithm.name}}</option>\n            </select>\n          </div>\n        </div>\n      </div>\n      <div class='graph-name' v-if='!progress.visible' :title='graphNameTitle'>\n          <select class='col' v-model='graphSettings.selected' @change='updateGraph'>\n            <option v-for='graph in graphSettings.graphs' :value='graph.value'>{{graph.name}}</option>\n          </select>\n      </div>\n    </div>\n    <div class='about-line'>\n      <a class='about-link' href='#' @click.prevent='aboutVisible = true'>about...</a>\n      <a class='bold' href='http://github.com/anvaka/ngraph.path'>source code</a>\n    </div>\n    <div class='osm-note' v-if='!progress.visible && graphSettings.selected !== \"USA-road-d.NY\"'>\n      Graph was extracted from <a href='https://www.openstreetmap.org' target='_blank'>www.openstreetmap.org</a>.\n      It is made available under <a href='https://opendatacommons.org/licenses/odbl/summary/' target='_blank'>ODbL</a>\n    </div>\n    <about v-if='aboutVisible' @close='aboutVisible = false'></about>\n  </div>\n</template>\n\n<script>\nimport api from './appModel';\nimport SVGContainer from './SVGContainer';\nimport RoutePoint from './components/RoutePoint';\nimport About from './components/About';\n\nconst bus = require('./bus');\nconst wgl = require('w-gl');\n\nexport default {\n  name: 'app',\n  components: {\n    RoutePoint,\n    About\n  },\n  mounted() {\n    this.webGLEnabled = wgl.isWebGLEnabled(this.$refs.canvas);\n    if (!this.webGLEnabled) {\n      // TODO: Maybe render something smaller with SVG?\n      return;\n    }\n\n    api.loadPositions()\n    bus.on('graph-loaded', this.createScene, this);\n  },\n  beforeDestroy() {\n    bus.off('graph-loaded', this.createScene);\n    this.ensurePreviousSceneDestroyed();\n  },\n  data() {\n    return {\n      webGLEnabled: true,\n      loaded: false,\n      detailsVisible: false,\n      progress: api.progress,\n      routeStart: api.routeStart,\n      routeEnd: api.routeEnd,\n      stats: api.stats,\n      scale: 1,\n      pathInfo: api.pathInfo,\n      pathFinder: api.pathFinderSettings,\n      graphSettings: api.graphSettings,\n      aboutVisible: false\n    }\n  },\n  computed: {\n    graphNameTitle() {\n      let stats = this.stats;\n      if (!stats) return '';\n\n      return stats.graphNodeCount + ' nodes; ' + stats.graphLinksCount + ' edges';\n    },\n    helpVisible() {\n      return !(this.routeStart.visible && this.routeEnd.visible);\n    },\n    pathText() {\n      if (this.pathInfo.noPath) {\n        return 'No path (' + this.stats.lastSearchTook + ')';\n      }\n      return 'Found in: ' + this.stats.lastSearchTook;\n    }\n  },\n\n  methods: {\n    clearRoute() {\n      api.clearRoute();\n    },\n    getHelpText() {\n      if (!this.routeStart.visible) {\n        return 'Click anywhere to select starting point';\n      } else if (!this.routeEnd.visible) {\n        return 'Click anywhere to select destination';\n      }\n    },\n\n    ensurePreviousSceneDestroyed() {\n      if (this.scene) {\n        this.scene.dispose();\n        this.scene = null;\n      }\n      if (this.unsubscribeMoveEvents) {\n        this.unsubscribeMoveEvents();\n        this.unsubscribeMoveEvents = null;\n      }\n    },\n\n    createScene() {\n      this.ensurePreviousSceneDestroyed();\n\n      let canvas = this.$refs.canvas;\n      this.loaded = true;\n\n      this.scene = wgl.scene(canvas);\n      // this.scene.setPixelRatio(2);\n      let scene = this.scene;\n      let svgConntainer = new SVGContainer(this.$refs.svg.querySelector('.scene'), this.updateSVGElements.bind(this));\n      this.scene.appendChild(svgConntainer)\n      scene.setClearColor(12/255, 41/255, 82/255, 1)\n      //scene.setClearColor(1, 1, 1, 1)\n\n      let bbox = api.getGraphBBox();\n      let initialSceneSize = bbox.width/8;\n      scene.setViewBox({\n        left:  -initialSceneSize,\n        top:   -initialSceneSize,\n        right:  initialSceneSize,\n        bottom: initialSceneSize,\n      })\n\n      let graph = api.getGraph();\n\n      let linksCount = graph.getLinksCount();\n      let lines = new wgl.WireCollection(linksCount);\n      lines.color = {r: 0.8, g: 0.8, b: 0.8, a: 0.7}\n      // lines.color = {r: 0.1, g: 0.1, b: 0.1, a: 0.9}\n      graph.forEachLink(function (link) {\n        let from = graph.getNode(link.fromId).data;\n        let to = graph.getNode(link.toId).data\n\n        lines.add({ from, to });\n      });\n\n      scene.appendChild(lines);\n\n      scene.on('mousemove', this.onMouseMoveOverScene, this);\n      scene.on('click', this.onSceneClick, this);\n\n      let boundMouseDown = this.handleMouseDown.bind(this);\n      document.body.addEventListener('mousedown', boundMouseDown, true);\n      document.body.addEventListener('touchstart', boundMouseDown, true);\n\n      this.unsubscribeMoveEvents = function() {\n        document.body.removeEventListener('mousedown', boundMouseDown, true);\n        document.body.removeEventListener('touchstart', boundMouseDown, true);\n      }\n    },\n\n    updateSVGElements(svgConntainer) {\n      let strokeWidth = 6/svgConntainer.scale;\n      this.$refs.foundPath.setAttributeNS(null, 'stroke-width', strokeWidth + 'px');\n      this.scale = svgConntainer.scale / this.scene.getPixelRatio();\n    },\n\n    handleMouseDown(e) {\n      var s;\n      var touchId = undefined;\n      if (e.touches) {\n        let mainTouch = (e.changedTouches || e.touches)[0];\n        s = this.scene.getSceneCoordinate(mainTouch.clientX, mainTouch.clientY);\n        touchId = mainTouch.identifier;\n      } else {\n        s = this.scene.getSceneCoordinate(e.clientX, e.clientY);\n      }\n\n      let handleUnderCursor = api.getRouteHandleUnderCursor({\n        sceneX: s.x,\n        sceneY: s.y\n      }, this.scene);\n      if (handleUnderCursor) {\n        e.stopPropagation()\n        e.preventDefault()\n        handleUnderCursor.startDragging(this.scene, touchId);\n        return;\n      }\n    },\n\n    updateGraph() {\n      this.ensurePreviousSceneDestroyed();\n      setTimeout(() => {\n        api.updateSelectedGraph();\n      }, 0);\n    },\n\n    updateSearchAlgorithm() {\n      api.updateSearchAlgorithm();\n    },\n\n    onSceneClick(e) {\n      api.handleSceneClick(e);\n    },\n\n    onMouseMoveOverScene(e) {\n      let now = new Date();\n      let handle = api.getRouteHandleUnderCursor(e, this.scene);\n      if (handle !== this.prevHandle) {\n        this.$refs.canvas.style.cursor = handle ? 'pointer' : ''\n        this.prevHandle = handle;\n      }\n    },\n  }\n}\n</script>\n\n<style lang='stylus'>\n.absolute {\n  position: absolute;\n}\n\ncanvas {\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n.progress {\n  color: white;\n  padding: 0 14px;\n  font-size: 24px;\n}\n\n.center {\n  display: flex;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\n\n.no-webgl {\n  width: 100%;\n  color: hsla(215, 37%, 55%, 1);\n  flex-direction: column;\n  text-align: center;\n  padding: 12px;\n\n  .video-demo {\n    margin-top: 20px;\n    width: 853px;\n    height: 480px;\n  }\n\n  h4 {\n    margin: 7px 0;\n    font-size: 24px;\n  }\n}\n\n.controls {\n  width: 440px;\n  top: 0;\n  margin: 14px;\n  display: flex;\n  flex-direction: column;\n  background-color: hsla(215, 74%, 18%, 1);\n  color: hsla(215, 37%, 55%, 1);\n  border: 1px solid hsla(215, 37%, 55%, 1);\n}\n\n.actions {\n  height: 40px;\n  display: flex;\n  flex-direction: row;\n}\n.help {\n  height: 40px;\n  padding:10px;\n  text-align: center;\n  font-size: 14px;\n  color: white;\n}\n.direction-switch {\n  display: flex;\n  height: 100%;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n}\n\na {\n  text-decoration: none;\n}\n\na.direction-switch {\n  color: hsla(215, 37%, 55%, 1);\n}\na.highlighted {\n  color: white;\n  border-bottom: 1px dashed white;\n}\n.stats {\n  padding: 4px;\n  position: absolute;\n  background-color: hsla(215, 74%, 18%, 1);\n  margin: 14px;\n  bottom: 0;\n  font-size: 12px;\n  color: hsla(215, 37%, 55%, 1);\n}\n\n.bold {\n  color: hsla(215, 37%, 85%, 1);\n}\n\n.row {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: baseline;\n  height: 32px;\n}\n.col {\n  flex: 1\n}\n\n.details {\n  padding: 8px 14px;\n}\n\nselect {\n  background: transparent;\n  border: none;\n  color: hsla(215, 37%, 85%, 1);\n  appearance: none;\n  font-size: 14px;\n  border-bottom: 1px dashed;\n  border-radius: 0;\n  padding-bottom: 4px;\n}\n\noption {\n  color: black;\n}\n\nsvg text {\n  pointer-events: none;\n  user-select: none;\n}\nselect:focus {\n  outline: none;\n}\n\n.about-line {\n  display: flex;\n  position: absolute;\n  width: 350px;\n  left: 50%;\n  bottom: 0;\n  padding: 7px 12px;\n  background-color: hsla(215, 74%, 18%, 0.8);\n  transform: translateX(-50%);\n  a {\n    flex: 1;\n    text-align: center;\n  }\n}\n\na.about-link {\n    color: hsla(215, 37%, 85%, 1);\n    font-size: 16px;\n}\n\n.graph-name {\n  position: absolute;\n  bottom: 42px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: hsla(215, 74%, 18%, 0.8);\n  padding: 0 10px;\n  select {\n    font-size: 24px;\n    cursor: pointer;\n  }\n}\n\n.osm-note {\n    position: absolute;\n    color: #6285b7;\n    width: 290px;\n    background-color: hsla(215, 74%, 18%, 0.8);\n    font-size: 11px;\n    text-align: right;\n    top: 14px;\n    right: 14px;\n    a {\n      color: #6285b7;\n    }\n}\n\n@media (max-width: 800px) {\n  .osm-note {\n    // The screen size is too small for this. Visitors can read it\n    // in the about page.\n    display: none;\n  }\n  .progress {\n    font-size: 18px;\n  }\n  .about-line {\n    width: 100%;\n    bottom: 0;\n  }\n\n  .details {\n    padding: 5px;\n  }\n  .controls {\n    width: 100%;\n    margin: 0;\n  }\n  .stats {\n    margin: 0;\n    bottom: 0px;\n    top: auto;\n  }\n\n  a.about-link {\n    bottom: 0;\n    padding-bottom: 4px;\n  }\n\n  .no-webgl {\n    .video-demo {\n      width: 560px;\n      height: 315px;\n    }\n  }\n\n  .direction-switch {\n    font-size: 14px;\n  }\n}\n\n@media (max-width: 600px) {\n  .no-webgl {\n    padding: 0;\n    div {\n      padding: 7px;\n    }\n    .video-demo {\n      width: 100%;\n      height: 300px;\n    }\n  }\n  .graph-name {\n    bottom: 48px;\n    select {\n      font-size: 16px;\n    }\n  }\n}\n\nsvg.svg-overlay {\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  background: transparent;\n}\n\n.route-info-container {\n  display: flex;\n}\n\nsvg.route-info {\n  flex: 1;\n  height: 40px;\n  cursor: pointer;\n  width: 100%;\n  margin-left: 7px;\n}\n\na.reset {\n  color: hsla(215, 37%, 85%, 1);\n  font-size: small;\n  padding: 0 10px;\n  display: block;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n\n.label {\n  width: 100px;\n  flex-shrink: 0;\n  padding-right: 7px;\n}\n.no-pointer {\n  pointer-events: none;\n}\n\n.error {\n  color:deeppink;\n}\n.error-details {\n  font-family: monospace;\n  text-align: left;\n}\n\na::selection,\nh3::selection,\nh4::selection,\ndiv::selection,\np::selection {\n  background: #d03094;\n  color: white;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue"],"sourceRoot":""}